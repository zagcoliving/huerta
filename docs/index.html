<!docype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>La huerta del coliving</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body{
        font-family: Open Sans,Arial;
        color: #454545;
        background-color: #fefefe;
        font-size:16px;
        margin:2em auto;
        max-width:800px;
        padding:1em;
        line-height:1.4;
      }     
      h1 {
        text-align: center;
      }
      svg {
        overflow: visible;
      }
      #map {
        width: 80%;
        float:left;
      }
      #plantas {
        width: 20%;
        float: left;
      }
      .g {
        stroke: #454545;
        stroke-width: 7;
        fill: #fefefe;
      }
      .highlight {
        fill: #c0c0c0;
      }
    </style>
  </head>
  <body>
    <h1>La huerta del coliving</h1>
    
    <div id="plantas">
      <ol>
	<li>menta</li>
	<li>cilantro</li>
	<li>romero</li>
	<li>orégano</li>
	<li>tomillo</li>
	<li>albahaca</li>
	<li>estragón</li>
	<li>salvia</li>
	<li>apio</li>
	<li>acelga</li>
	<li>cebolla</li>
	<li>mostaza</li>
	<li>lechuga</li>
	<li>rúcula</li>
	<li>kale</li>
	<li>mizuna</li>
	<li>pimientos</li>
	<li>ciboulette</li>	
      </ol>
    </div>
    
    <div id="map">
      <svg viewBox="0 0 28 10" xmlns="http://www.w3.org/2000/svg">
	<svg class="maceta" x="1" y="4.5" width="4" height="3" viewBox="0 0 400 300">
	  <rect class="g p-1" x="0" y="0" width="33%" height="100%" />
	  <rect class="g p-2" x="33%" y="0" width="33%" height="33%" />
	  <rect class="g p-2" x="66%" y="33%" width="33%" height="67%" />
	  <rect class="g p-3" x="33%" y="33%" width="33%" height="33%" />
	  <rect class="g p-4" x="66%" y="0" width="33%" height="33%" />
	  <rect class="g p-5" x="33%" y="66%" width="33%" height="34%" />
	</svg>
	<svg class="maceta" x="7" y="1" width="4" height="3" viewBox="0 0 400 300">
	  <rect class="g p-3" x="0" y="0" width="33%" height="50%" />
	  <rect class="g p-5" x="0" y="50%" width="33%" height="50%" />
	  <rect class="g p-6" x="33%" y="0" width="33%" height="100%" />
	  <rect class="g p-7" x="66%" y="0" width="33%" height="50%" />
	  <rect class="g p-8" x="66%" y="50%" width="33%" height="50%" />
	</svg>
	<svg class="maceta" x="12" y="1" width="10" height="3" viewBox="0 0 1000 300">
	  <rect class="g p-9" x="0" y="0" width="10%" height="25%" />
	  <rect class="g p-9" x="45%" y="0" width="10%" height="25%" />
	  <rect class="g p-9" x="90%" y="0" width="10%" height="25%" />
	  <rect class="g p-10" x="10%" y="0" width="35%" height="25%" />
	  <rect class="g p-10" x="55%" y="0" width="35%" height="25%" />
	  <rect class="g p-11" x="0" y="25%" width="100%" height="25%" />
	  <rect class="g p-12" x="0" y="50%" width="10%" height="25%" />
	  <rect class="g p-12" x="90%" y="50%" width="10%" height="25%" />
	  <rect class="g p-13" x="10%" y="50%" width="80%" height="25%" />
	  <rect class="g p-14" x="0" y="75%" width="100%" height="25%" />
	</svg>
	<svg class="maceta" x="22" y="4.5" width="3" height="5" viewBox="0 0 300 500">
	  <rect class="g p-15" x="33%" y="0" width="66%" height="20%" />
	  <rect class="g p-15" x="66%" y="80%" width="33%" height="20%" />
	  <rect class="g p-15" x="66%" y="40%" width="33%" height="20%" />
	  <rect class="g p-16" x="33%" y="80%" width="33%" height="20%" />
	  <rect class="g p-10" x="33%" y="20%" width="33%" height="60%" />
	  <rect class="g p-10" x="66%" y="20%" width="33%" height="20%" />
	  <rect class="g p-10" x="66%" y="60%" width="33%" height="20%" />
	  <rect class="g p-14" x="0" y="0" width="33%" height="100%" />
	</svg>
	<svg class="maceta" x="5.2" y="4.7" width="1.6" height="1.6" viewBox="0 0 150 150">
	  <circle class="g p-17" cx="50%" cy="50%" r="50%" />	  
	</svg>
	<svg class="maceta" x="5.4" y="6.6" width="1.2" height="1.2" viewBox="0 0 150 150">
	  <circle class="g p-18" cx="50%" cy="50%" r="50%" />	  
	</svg>
	<svg class="maceta" x="22.4" y="1.7" width="1.6" height="1.6" viewBox="0 0 150 150">
	  <circle class="g p-4" cx="50%" cy="50%" r="50%" />	  
	</svg>
      </svg>
    </div>
      
    <script>
(function enumerate () {
    function text(el, index) {
	var attr = el.attributes 
	var x = (attr.x ? attr.x : attr.cx).value;
	var y = (attr.x ? attr.y : attr.cy).value;
	var text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        text.setAttribute('x', x);
	text.setAttribute('y', y);
	text.setAttribute('font-size', 50);
	text.setAttribute('dominant-baseline', attr.x ? 'hanging' : 'middle');
	if (attr.x) {
	    text.setAttribute('dx', 10);
	    text.setAttribute('dy', 10);
	} else {
	    text.setAttribute('text-anchor', 'middle');
	}
	text.innerHTML = index;
	el.parentElement.append(text);
    }
    
    function highlight(index) {
	return function () {
	    document.querySelectorAll(".highlight").forEach(
		function (e) { e.classList.remove("highlight") });
      document.querySelectorAll(".p-" + index).forEach(
      
		function (e) { console.log(e); e.classList.add("highlight") });
	}
    }
    
    var plants = document.querySelectorAll("li");
    plants.forEach(function (item, index) {
        item.addEventListener("mouseover", highlight(index + 1));
	var elements = document.querySelectorAll(".p-"+(index + 1));
	elements.forEach(function (e) { text(e, index + 1); });
    })
})();
    </script>
  </body>
</html>
